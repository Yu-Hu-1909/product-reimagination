<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calendar</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <!-- Header -->
    <header class="header">
      <div class="header-left">
        <div class="logo">
          <svg class="logo-icon" viewBox="0 0 24 24">
            <path
              d="M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V10h14v10zM9 14H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2zm-8 4H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2z"
            />
          </svg>
          <span class="logo-text">Calendar</span>
        </div>
      </div>

      <div class="header-center">
        <button class="btn-today" id="todayBtn">Today</button>
        <div class="nav-buttons">
          <button class="nav-btn" id="prevBtn">
            <svg viewBox="0 0 24 24" width="20" height="20">
              <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z" />
            </svg>
          </button>
          <button class="nav-btn" id="nextBtn">
            <svg viewBox="0 0 24 24" width="20" height="20">
              <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z" />
            </svg>
          </button>
        </div>
        <h2 class="current-month" id="currentMonth">January 2026</h2>
      </div>

      <div class="header-right">
        <div class="view-selector">
          <button class="view-btn active" data-view="month">Month</button>
          <button class="view-btn" data-view="week">Week</button>
          <button class="view-btn" data-view="day">Day</button>
        </div>
        <button class="settings-btn" id="settingsBtn" title="Settings">
          <svg viewBox="0 0 24 24" width="24" height="24">
            <path
              d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"
            />
          </svg>
        </button>
        <button class="user-menu" id="userMenuBtn">
          <svg viewBox="0 0 24 24" width="24" height="24">
            <path
              d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"
            />
          </svg>
        </button>
        <div class="user-dropdown" id="userDropdown">
          <div class="user-info">
            <span id="usernameDisplay"></span>
          </div>
          <button class="logout-btn" id="logoutBtn">Sign Out</button>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <div class="main-container">
      <!-- Sidebar -->
      <aside class="sidebar">
        <button class="create-btn" id="createEventBtn">
          <svg viewBox="0 0 24 24" width="20" height="20">
            <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" />
          </svg>
          Create
        </button>

        <!-- Mini Calendar -->
        <div class="mini-calendar">
          <div class="mini-calendar-header">
            <button class="mini-nav-btn" id="miniPrevBtn">
              <svg viewBox="0 0 24 24" width="16" height="16">
                <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z" />
              </svg>
            </button>
            <span class="mini-month" id="miniMonth">Jan 2026</span>
            <button class="mini-nav-btn" id="miniNextBtn">
              <svg viewBox="0 0 24 24" width="16" height="16">
                <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z" />
              </svg>
            </button>
          </div>
          <div class="mini-calendar-grid" id="miniCalendarGrid"></div>
        </div>

        <!-- My Calendars -->
        <div class="my-calendars">
          <h3>My calendars</h3>
          <div id="categoriesList">
            <!-- Categories will be dynamically loaded here -->
          </div>
          <button class="manage-categories-btn" id="manageCategoriesBtn">
            <svg viewBox="0 0 24 24" width="16" height="16">
              <path
                d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"
              />
            </svg>
            Manage Categories
          </button>
        </div>
      </aside>

      <!-- Calendar Grid -->
      <main class="calendar-main">
        <div class="calendar-container">
          <div class="calendar-header" id="calendarHeader">
            <!-- Days of week will be inserted here -->
          </div>
          <div class="calendar-grid" id="calendarGrid">
            <!-- Calendar cells will be inserted here -->
          </div>
        </div>
      </main>
    </div>

    <!-- Create/Edit Event Modal -->
    <div class="modal" id="eventModal">
      <div class="modal-content">
        <div class="modal-header">
          <h3 id="modalTitle">Create Event</h3>
          <button class="close-btn" id="closeModalBtn">
            <svg viewBox="0 0 24 24" width="24" height="24">
              <path
                d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"
              />
            </svg>
          </button>
        </div>
        <form id="eventForm">
          <div class="form-group">
            <label for="eventTitle">Event Title</label>
            <input
              type="text"
              id="eventTitle"
              required
              placeholder="Add title"
            />
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="eventDate">Date</label>
              <input type="date" id="eventDate" required />
            </div>
            <div class="form-group">
              <label for="eventStartTime">Start Time</label>
              <input type="time" id="eventStartTime" required />
            </div>
            <div class="form-group">
              <label for="eventEndTime">End Time</label>
              <input type="time" id="eventEndTime" required />
            </div>
          </div>

          <div class="form-group">
            <label for="eventDescription">Description</label>
            <textarea
              id="eventDescription"
              rows="3"
              placeholder="Add description"
            ></textarea>
          </div>

          <div class="form-group">
            <label>Color</label>
            <div class="color-picker">
              <button
                type="button"
                class="color-option active"
                data-color="#1a73e8"
                style="background: #1a73e8"
              ></button>
              <button
                type="button"
                class="color-option"
                data-color="#d50000"
                style="background: #d50000"
              ></button>
              <button
                type="button"
                class="color-option"
                data-color="#e67c73"
                style="background: #e67c73"
              ></button>
              <button
                type="button"
                class="color-option"
                data-color="#f4511e"
                style="background: #f4511e"
              ></button>
              <button
                type="button"
                class="color-option"
                data-color="#f6bf26"
                style="background: #f6bf26"
              ></button>
              <button
                type="button"
                class="color-option"
                data-color="#33b679"
                style="background: #33b679"
              ></button>
              <button
                type="button"
                class="color-option"
                data-color="#0b8043"
                style="background: #0b8043"
              ></button>
              <button
                type="button"
                class="color-option"
                data-color="#039be5"
                style="background: #039be5"
              ></button>
              <button
                type="button"
                class="color-option"
                data-color="#3f51b5"
                style="background: #3f51b5"
              ></button>
              <button
                type="button"
                class="color-option"
                data-color="#7986cb"
                style="background: #7986cb"
              ></button>
              <button
                type="button"
                class="color-option"
                data-color="#8e24aa"
                style="background: #8e24aa"
              ></button>
              <button
                type="button"
                class="color-option"
                data-color="#616161"
                style="background: #616161"
              ></button>
            </div>
          </div>

          <div class="modal-actions">
            <button
              type="button"
              class="btn-delete"
              id="deleteEventBtn"
              style="display: none"
            >
              Delete
            </button>
            <div class="modal-actions-right">
              <button type="button" class="btn-cancel" id="cancelBtn">
                Cancel
              </button>
              <button type="submit" class="btn-save" id="saveEventBtn">
                Save
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>

    <!-- Settings Modal -->
    <div class="modal" id="settingsModal">
      <div class="modal-content settings-modal-content">
        <div class="modal-header">
          <h3>Settings</h3>
          <button class="close-btn" id="closeSettingsBtn">
            <svg viewBox="0 0 24 24" width="24" height="24">
              <path
                d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"
              />
            </svg>
          </button>
        </div>

        <div class="settings-content">
          <h4>Event Categories</h4>
          <p class="settings-description">
            Manage your event categories and colors
          </p>

          <div class="categories-list-settings" id="categoriesListSettings">
            <!-- Categories will be loaded here -->
          </div>

          <div class="add-category-section">
            <button class="add-category-btn" id="addCategoryBtn">
              <svg viewBox="0 0 24 24" width="18" height="18">
                <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" />
              </svg>
              Add New Category
            </button>

            <div
              class="add-category-form"
              id="addCategoryForm"
              style="display: none"
            >
              <div class="form-group">
                <label for="newCategoryName">Category Name</label>
                <input
                  type="text"
                  id="newCategoryName"
                  placeholder="e.g., Study, Travel"
                  maxlength="50"
                />
              </div>
              <div class="form-group">
                <label for="newCategoryColor">Color</label>
                <input type="color" id="newCategoryColor" value="#1a73e8" />
              </div>
              <div class="form-actions">
                <button class="btn-cancel" id="cancelAddCategory">
                  Cancel
                </button>
                <button class="btn-save" id="saveNewCategory">Create</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script type="module" src="calendar.js"></script>
    <script type="module" src="events.js"></script>
    <script type="module" src="holidays.js"></script>
    <script type="module" src="categories.js"></script>
  </body>
</html>
